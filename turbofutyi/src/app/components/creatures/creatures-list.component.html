<div class="creatures-page">
  <div class="page-header">
    <h1>ğŸ¦„ KÃ¼lÃ¶nleges LÃ©nyek</h1>
    <p class="subtitle">A nyilvÃ¡ntartÃ¡sban szereplÅ‘ kÃ¼lÃ¶nleges lÃ©nyek listÃ¡ja</p>
    <a routerLink="/creatures/new" class="btn-primary">
      <span class="icon">â•</span>
      Ãšj LÃ©ny HozzÃ¡adÃ¡sa
    </a>
  </div>

  @if (isLoading()) {
    <div class="loading">
      <div class="spinner"></div>
      <p>LÃ©nyek betÃ¶ltÃ©se...</p>
    </div>
  }

  @if (errorMessage()) {
    <div class="error-box">
      {{ errorMessage() }}
    </div>
  }

  @if (!isLoading() && !errorMessage()) {
    @if (creatures().length === 0) {
      <div class="empty-state">
        <div class="empty-icon">ğŸ”</div>
        <h2>MÃ©g nincsenek lÃ©nyek</h2>
        <p>Kezdje el a kÃ¼lÃ¶nleges lÃ©nyek nyilvÃ¡ntartÃ¡sÃ¡t!</p>
        <a routerLink="/creatures/new" class="btn-primary">ElsÅ‘ LÃ©ny HozzÃ¡adÃ¡sa</a>
      </div>
    } @else {
      <div class="creatures-grid">
        @for (creature of creatures(); track creature.id) {
          <div class="creature-card">
            <a [routerLink]="['/creatures', creature.id]" class="card-link">
              <div class="card-header">
                <h3>{{ creature.name }}</h3>
                @if (creature.category) {
                  <span class="badge">{{ creature.category.name }}</span>
                }
              </div>

              <p class="description">{{ creature.description }}</p>

              @if (creature.abilities && creature.abilities.length > 0) {
                <div class="abilities">
                  <span class="abilities-label">KÃ©pessÃ©gek:</span>
                  <div class="abilities-list">
                    @for (ability of creature.abilities.slice(0, 3); track ability.id) {
                      <span class="ability-tag">{{ ability.name }}</span>
                    }
                    @if (creature.abilities.length > 3) {
                      <span class="ability-tag more">+{{ creature.abilities.length - 3 }}</span>
                    }
                  </div>
                </div>
              }

              <div class="card-footer">
                <span class="date">
                  LÃ©trehozva: {{ creature.created_at ? (creature.created_at | date:'yyyy.MM.dd') : '-' }}
                </span>
              </div>
            </a>

            <div class="card-actions">
              <a [routerLink]="['/creatures', creature.id, 'edit']" class="btn-edit" title="SzerkesztÃ©s">
                âœï¸
              </a>
              <button (click)="deleteCreature(creature.id, $event)" class="btn-delete" title="TÃ¶rlÃ©s">
                ğŸ—‘ï¸
              </button>
            </div>
          </div>
        }
      </div>
    }
  }
</div>
